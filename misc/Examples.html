
<HTML>
<HEAD>
<TITLE>JBarcodeBean Code Examples</TITLE>
</HEAD>
<BODY bgcolor="#ffffff">
<p align=center>[<a href="JBarcodeBean.html">back</a>]</p>
<hr>
<p><b><font face="Arial" size="4">JBarcodeBean Code Examples</font></b></p>
<p><b><font face="Arial" size="3">1. Servlet example</font></b></p>
<p>This example demonstrates how JBarcodeBean can be used as a server-side
component, to serve barcode GIF images to a web browser client. In this trivial
example, you enter the text to encode in a text box, and the server responds by
displaying the barcoded version of the text when you click the Submit button.</p>
<p><b><i>1.1 The HTML</i></b></p>
<p style="background-color: #FFFFFF"><font face="Courier New" size="2" color="#000080">&lt;HTML><br>
&nbsp;&nbsp;&nbsp; &lt;HEAD><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TITLE>Barcode Bean Servlet Test&lt;/TITLE><br>
&nbsp;&nbsp;&nbsp; &lt;/HEAD><br>
&nbsp;&nbsp;&nbsp; &lt;BODY><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;FORM method="get" action="servlet/ServletTest"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Text to encode:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;INPUT type="text" size="20" name="code"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;INPUT type="submit" value="Display barcode"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/FORM><br>
&nbsp;&nbsp;&nbsp; &lt;/BODY><br>
&lt;/HTML&gt;</font></p>
<p><i><b>1.2 The Java:</b></i></p>
<p><font face="Courier New" size="2" color="#000080">import javax.servlet.*;<br>
import javax.servlet.http.*;<br>
import java.io.*;<br>
import jbarcodebean.*;<br>
<br>
public class ServletTest extends HttpServlet {<br>
<br>
&nbsp;&nbsp;&nbsp; JBarcodeBean bb;<br>
<br>
&nbsp;&nbsp;&nbsp; public void init(ServletConfig conf) throws ServletException {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super.init(conf);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb = new JBarcodeBean();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setCodeType(new ExtendedCode39());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setShowText(true);<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
&nbsp;&nbsp;&nbsp; public void doGet(HttpServletRequest req, HttpServletResponse resp)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; throws ServletException, IOException {<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; resp.setContentType("image/gif");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OutputStream out = resp.getOutputStream();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setCode(req.getParameter("code"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.gifEncode(out);<br>
&nbsp;&nbsp;&nbsp; }<br>
}</font></p>

<p><b><font size="3" face="Arial">2. Application example</font></b></p>
<p>The simplest way to integrate JBarcodeBean into an application's user
interface, is to utilize Javabean-support in popular GUI-builder tools and IDEs,
such as JBuilder.&nbsp; These tools allow you to drag-and-drop components from
a component palette on to your application's user interface.</p>
<p>If your development environment does not support Javabeans in this way, or
you prefer to integrate UI components &quot;by hand&quot;, then the following
code sample may be of interest to you.</p>
<p><img border="0" src="SimpleDemoScreenshot.gif" width="327" height="152"></p>
<p><font face="Courier New" size="2" color="#000080">import java.awt.*;<br>
import java.awt.event.*;<br>
import java.awt.print.*;<br>
import javax.swing.*;<br>
import jbarcodebean.*;<br>
<br>
public class SimpleDemo extends JFrame {<br>
<br>
&nbsp;&nbsp;&nbsp; private static String titleString = "Simple JBarcodeBean Demo";<br>
<br>
&nbsp;&nbsp;&nbsp; JBarcodeBean bb = new JBarcodeBean();<br>
&nbsp;&nbsp;&nbsp; JButton displayButton = new JButton("Display");<br>
&nbsp;&nbsp;&nbsp; JButton printButton = new JButton("Print");<br>
&nbsp;&nbsp;&nbsp; JLabel labelCode = new JLabel("Text to encode");<br>
&nbsp;&nbsp;&nbsp; JTextField codeTextBox = new JTextField(20);<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp; // Application Entry Point<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp; public static void main(String[] args) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SimpleDemo simpleDemo = new SimpleDemo();<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp; // Constructor<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp; public SimpleDemo() {<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; super(titleString);<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Set some JBarcodeBean properties<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setCodeType(new ExtendedCode39());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setShowText(true);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bb.setCode(&quot;&quot;);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JPanel tempPanel;<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Create a button panel at the bottom of the form<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel = new JPanel();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel.add(displayButton);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel.add(printButton);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getContentPane().add(tempPanel, "South");<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Text field at the top of the form<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel = new JPanel();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel.add(labelCode);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tempPanel.add(codeTextBox);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labelCode.setLabelFor(codeTextBox);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getContentPane().add(tempPanel, "North");<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Barcode in the center<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getContentPane().add(bb, "Center");<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Set component listeners<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.addWindowListener(new WindowAdapter() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void windowClosing(WindowEvent evt) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
System.exit(0);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; displayButton.addActionListener(new ActionListener() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent evt) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bb.setCode(codeTextBox.getText());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printButton.addActionListener(new ActionListener() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public void actionPerformed(ActionEvent evt) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bb.setCode(codeTextBox.getText());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
printBarcode();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Display form<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pack();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; show();<br>
&nbsp;&nbsp;&nbsp; }<br>
<br>
</font><font face="Courier New" size="2" color="#800000">
&nbsp;&nbsp;&nbsp; // This method prints the barcode on the default printer<br>
</font><font face="Courier New" size="2" color="#000080">
&nbsp;&nbsp;&nbsp; private void printBarcode() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PrinterJob pj = PrinterJob.getPrinterJob();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PageFormat pf = pj.defaultPage();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pj.setPrintable(new Printable() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int print(Graphics g, PageFormat format, int pageNum) throws PrinterException {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if (pageNum > 0) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return Printable.NO_SUCH_PAGE;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Graphics2D g2d = (Graphics2D) g;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
g2d.translate(format.getImageableX(), format.getImageableY());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Color oldBackground = bb.getBackground();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bb.setBackground(bb.getBarcodeBackground());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bb.paint(g2d);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
bb.setBackground(oldBackground);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return Printable.PAGE_EXISTS;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, pf);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pj.print();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
JOptionPane.showMessageDialog(this, "Barcode has been printed", titleString,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
JOptionPane.INFORMATION_MESSAGE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (PrinterException ex) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
JOptionPane.showMessageDialog(this, "Error printing barcode", titleString,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
JOptionPane.ERROR_MESSAGE);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; }<br>
}</font></p>

<hr>
<p align=center>[<a href="JBarcodeBean.html">back</a>]</p>

</BODY>
